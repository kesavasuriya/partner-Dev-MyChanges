<template>

    <lightning-card variant="Narrow" title="Summary">

        <div class="slds-text-align_right slds-p-around_small">
            <lightning-button label="Add" title="Add" icon-name="utility:add" class="slds-m-left_x-small" onclick={handleAdd} variant="brand"></lightning-button>
        </div>

        <template if:true={showTable}>
                                
            <table class="slds-table slds-table_bordered slds-border_left slds-border_right">
                <thead>
                    <tr class="slds-line-height_reset">
                        <th class="wrapText" scope="col">
                        <div  title="Config Id">Config Id</div>
                        </th>
                        <th class="wrapText" scope="col">
                        <div title="Config Definition">Config Definition</div>
                        </th>
                        <th class="wrapText" scope="col">
                            <div title="Config Description">Config Description</div>
                        </th>
                        <th class="wrapText" scope="col">
                        <div title="Config Value">Config Value</div>
                        </th>
                        <th class="wrapText" scope="col">
                            <div title="Active SW">Active SW</div>
                        </th>
                        <th class="wrapText" scope="col">
                            <div title="Actions">Actions</div>
                        </th>
                    </tr>
                </thead>
                <tbody>
                            
                    <template for:each={visibleData} for:index="index" for:item="row">  
                        <tr key={row.Id}>
                            <td class="wrapText" data-label="">
                                <div id={index} accesskey={index} title={row.configID}> {row.configID}</div>
                            </td>
                            <td class="wrapText" data-label="">
                                <div id={index} accesskey={index} title={row.configName}> {row.configName}</div>
                            </td>
                            <td class="wrapText" data-label="">
                                <div id={index} accesskey={index} title={row.configDesc}> {row.configDesc}</div>
                            </td>
                            <td class="wrapText" data-label="">
                                <div id={index} accesskey={index} title={row.configValue}> {row.configValue}</div>
                            </td>
                            
                            <td class="wrapText" data-label="">
                                <div id={index} accesskey={index} title={row.activeSwitch}>{row.activeSwitch}</div>
                            </td>
                            <td class="wrapText" data-label="">
                                <div class="slds-p-around_medium lgc-bg">
                                    <lightning-button-icon icon-name="utility:edit" name={row}  alternative-text="Show details" class="slds-m-left_xx-small" title="Edit" onclick={handleEdit}></lightning-button-icon>
                                    <lightning-button-icon icon-name="utility:delete" name="delete" alternative-text="Delete"  class="slds-m-left_xx-small" title="Delete"></lightning-button-icon>
                                </div>
                            </td>
                            
                        </tr>
                    </template>
            </tbody>
            </table></br>
            <div>
              <template if:true={showChild}>
                  <c-pagination-l-w-c total-list={allConfigList} onupdate={paginationHandler}></c-pagination-l-w-c>
              </template>
          </div>
        </template>

        <template if:true={showModal}>
            <div class="slds-modal slds-fade-in-open slds-backdrop">  
                <div class="slds-modal__container">  
                  
                  <div class="slds-modal__header">  
                      
                    <h2>Add Config</h2>  
                  </div>  
                   
                  <div class="slds-modal__content slds-p-around_medium">  
                    <lightning-input type="text" label="Config Name" name="Config Name" value={addConfig.configName} onchange={handleChange}></lightning-input>
  
                      <lightning-input type="text" label="Config Description" name="Config Description" value={addConfig.configDescription} onchange={handleChange}></lightning-input>
                      
                        <lightning-input type="text" label="Config Value" name="Config Value" value={addConfig.configValue} onchange={handleChange}></lightning-input>                    
                    </div>  
                  
                  <div class="slds-modal__footer"> 
                    <lightning-button icon-name="utility:close" label="Discard" variant="destructive" onclick={handleDiscard} class="slds-p-around_small"></lightning-button> 
                    <lightning-button icon-name="utility:save" label="Save&Close" variant="brand" onclick={handleSave} class="slds-p-around_small">  
                    </lightning-button>  
                  </div>  
                </div>  
              </div>  
        </template>

        <template if:true={showUpdateModal}>
            <div class="slds-modal slds-fade-in-open slds-backdrop">  
                <div class="slds-modal__container">  
                  
                  <div class="slds-modal__header">  
                      
                    <h2>Update Config</h2>  
                  </div>  
                   
                  <div class="slds-modal__content slds-p-around_medium">  
                    <lightning-input type="text" label="Config Name" name="Config Name Update" value={updateConfig.configName} onchange={handleChange}></lightning-input>
  
                      <lightning-input type="text" label="Config Description" name="Config Description Update" value={updateConfig.configDescription} onchange={handleChange}></lightning-input>
                      
                        <lightning-input type="text" label="Config Value" name="Config Value Update" value={updateConfig.configValue} onchange={handleChange}></lightning-input>                    
                    </div>  
                  
                  <div class="slds-modal__footer"> 
                    <lightning-button icon-name="utility:close" label="Discard" variant="destructive" onclick={handleDiscardUpdate} class="slds-p-around_small"></lightning-button> 
                    <lightning-button icon-name="utility:save" label="Save&Close" variant="brand" onclick={handleSaveUpdate} class="slds-p-around_small">  
                    </lightning-button>  
                  </div>  
                </div>  
              </div>  
        </template>

    </lightning-card>
    
</template>