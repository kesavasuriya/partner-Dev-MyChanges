<template>

    <template if:true={isLoading}>
        <lightning-spinner alternative-text="Loading" size="large"></lightning-spinner>
    </template>
    
    <lightning-card title={cardTitle}>
        <lightning-button-icon slot="actions" icon-name="utility:refresh" onclick={handleRefresh} class="slds-var-p-around_small"></lightning-button-icon>
        <template if:true={showNew}>
            <lightning-button slot="actions" label = "New" onclick={handleFlow} class="slds-var-p-around_small"></lightning-button>
            
        </template>
        <lightning-tree-grid
                columns={gridColumns}
                data={gridData} hide-checkbox-column="true" onrowaction={handleRowAction}
                key-field="recordName" min-column-width="230" max-column-width="270"
            ></lightning-tree-grid>
    </lightning-card>



    <div  class="eventModal" if:true={showFlowScreen}>
        <c-modal-component header={header} modal-class='slds-modal slds-fade-in-open slds-modal_small'>
                <span slot="closeFlowModal">
                    <lightning-button-icon icon-name="utility:close"
                                        onclick={hideModal}
                                        alternative-text="close"
                                        variant="bare-inverse"
                                        class="slds-modal__close"></lightning-button-icon> 
                    <h2 id="modal-heading-03" class="slds-text-heading_medium slds-hyphenate"></h2>
                </span>
                <span slot="modalBody">
        
                    <template lwc:if={showLivingArrangementFlow}>
                        <lightning-flow flow-api-name="Living_Arrangement_Flow" flow-input-variable={inputvariable}></lightning-flow>
                    </template>
                    <template lwc:elseif={showPlacementFlow}>
                        <lightning-flow flow-api-name="New_Placement"
                        flow-input-variable={inputvariable}></lightning-flow>
                    </template>
                    <template lwc:else>                        
                        <lightning-radio-group class="radiobutton" options={options} onchange={handleNavigation}></lightning-radio-group>
                    </template>

                </span>
                <span slot="modalFooter">
                <div>
                    <lightning-button label="Cancel" class="slds-p-right_small" onclick={hideModal}></lightning-button>

                </div>

                </span>
                
        </c-modal-component>

    </div>
    
</template>