<template>
    <lightning-tabset>
        <template for:each={personList} for:item="row" for:index="index" >

            <lightning-tab key={row.Id} label={row.Person__r.Name} value={row.Person__c} onactive={handleClick} >
                <table class="slds-table slds-table_bordered slds-border_left slds-border_right">
                    <thead>
                        <tr class="slds-line-height_reset">
                            <th></th>
                            <th>Initial Due Date</th>
                            <th>Worker Name & Completed Date</th>
                            <th>Supervisor Name & Approval Date</th>
                            <th>Next Due Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="cellHeight">
                            <td><a>Initial Face to Face</a></td>
                            <td><lightning-formatted-date-time value={initialDate} year="numeric" month="numeric" day="numeric"></lightning-formatted-date-time></td>
                            <td><div>{notesRecord.ownerName}</div>
                                <div><lightning-formatted-date-time value={notesRecord.Contact_Date__c} year="numeric" month="numeric" day="numeric"></lightning-formatted-date-time></div></td>
                            <td>N/A</td>
                            <td>N/A</td>
                        </tr>
                        <tr class="cellHeight">
                            <td ><a>Safe-C</a></td>
                            <td ><lightning-formatted-date-time value={initialDate} year="numeric" month="numeric" day="numeric"></lightning-formatted-date-time></td>
                            <td ><div>{assessmentRecord.Workers_Name__c}</div>
                                <lightning-formatted-date-time value={assessmentRecord.Submitted_Date__c} year="numeric" month="numeric" day="numeric" 
                                ></lightning-formatted-date-time></div></td>
                            <td ><div>{assessmentRecord.approver}</div>
                                <div><lightning-formatted-date-time value={assessmentRecord.Safety_Assessment_Approval_Date_Time__c} year="numeric" month="numeric" day="numeric" 
                                 ></lightning-formatted-date-time></div></td>
                            <td ><lightning-formatted-date-time value={safecNextDueDate} year="numeric" month="numeric" day="numeric" 
                                ></lightning-formatted-date-time></td>
                        </tr>
                        <tr class="cellHeight">
                            <td ><a>Risk Assessment</a></td>
                            <td ><lightning-formatted-date-time value={initialDate} year="numeric" month="numeric" day="numeric"></lightning-formatted-date-time></td>
                            <td ><div>{riskAssessment.Workers_Name__c}</div>
                                <lightning-formatted-date-time value={riskAssessment.Submitted_Date__c} year="numeric" month="numeric" day="numeric" 
                                ></lightning-formatted-date-time></div></td>
                            <td ><div>{riskAssessment.approver}</div>
                                <div><lightning-formatted-date-time value={riskAssessment.Safety_Assessment_Approval_Date_Time__c} year="numeric" month="numeric" day="numeric" 
                                 ></lightning-formatted-date-time></div></td>
                            <td ><lightning-formatted-date-time value={riskAssessmentInitialDueDate} year="numeric" month="numeric" day="numeric"></lightning-formatted-date-time></td>
                        </tr>
                    </tbody>
                </table>
            </lightning-tab>
        </template>
    </lightning-tabset>
</template>